[{"C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\index.js":"1","C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\App.js":"2","C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\components\\comments.js":"3","C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\components\\login.js":"4","C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\firebase\\index.js":"5","C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\components\\showComments.js":"6","C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\components\\home.js":"7","C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\components\\logout.js":"8","C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\components\\header.js":"9","C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\components\\footer.js":"10"},{"size":276,"mtime":1607565391966,"results":"11","hashOfConfig":"12"},{"size":792,"mtime":1607711089546,"results":"13","hashOfConfig":"12"},{"size":3064,"mtime":1607661761298,"results":"14","hashOfConfig":"12"},{"size":1461,"mtime":1607651842064,"results":"15","hashOfConfig":"12"},{"size":625,"mtime":1607563231590,"results":"16","hashOfConfig":"12"},{"size":2646,"mtime":1607661906798,"results":"17","hashOfConfig":"12"},{"size":1090,"mtime":1607576065617,"results":"18","hashOfConfig":"12"},{"size":956,"mtime":1607659212621,"results":"19","hashOfConfig":"12"},{"size":328,"mtime":1607663202258,"results":"20","hashOfConfig":"12"},{"size":371,"mtime":1607907372387,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"oby649",{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"24"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"24"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\index.js",[],["46","47"],"C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\App.js",["48"],"import './App.css';\nimport Comments from './components/comments';\nimport Login from './components/login';\nimport Logout from './components/logout';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport ShowComments from './components/showComments';\nimport Home from './components/home';\nimport Header from './components/header';\nimport Footer from './components/footer';\n\nfunction App() {\n  return (\n      <Router>\n        <Header/>\n        <Switch>\n          <Route exact path=\"/\">\n            <Home/>\n            <Login/>\n            <Logout/>\n            <ShowComments/>\n          </Route>\n          <Route path=\"/comment\">\n            <Comments/>\n          </Route>\n        </Switch>\n        <Footer/>\n      </Router>\n  );\n}\n\nexport default App;\n","C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\components\\comments.js",["49"],"import React, { useEffect, useState } from \"react\";\r\nimport { getFirestore } from \"../firebase\";\r\nimport firebase from \"firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function Comments() {\r\n  const [comentario, setComentario] = useState(\"\");\r\n  const [titulo, setTitulo] = useState(\"\");\r\n  const [usuario, setUsuario] = useState({});\r\n  const locally = useHistory()\r\n\r\n  useEffect(() => {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      setUsuario({\r\n        nombre: user.displayName,\r\n        foto: user.photoURL,\r\n        email: user.email,\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  function handleChangeTitle(e) {\r\n    setTitulo(e.target.value);\r\n  }\r\n\r\n  function handleChange(e) {\r\n    setComentario(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const db = getFirestore();\r\n    db.collection(\"comentarios\")\r\n      .add({\r\n        usuario,\r\n        date: firebase.firestore.Timestamp.fromDate(new Date()),\r\n        fecha: firebase.firestore.Timestamp.fromDate(new Date()).toDate().toLocaleDateString(),\r\n        comentario: comentario,\r\n        titulo: titulo,\r\n        like: 0\r\n      })\r\n      .then(function (docRef) {\r\n        console.log(docRef.id);\r\n        setUsuario({});\r\n        setComentario(\"\");\r\n        setTitulo(\"\");\r\n      })\r\n      .catch(function (error) {\r\n        console.error(\"Error adding document: \", error);\r\n      });\r\n    locally.push('/')\r\n  }\r\n \r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 className=\"mt-5\" style={{textAlign:\"center\", color:\"yellow\"}}>Write your comment</h1>\r\n      <form className=\"my-3\" onSubmit={handleSubmit} style={{backgroundColor:\"white\", borderRadius:\"8px\"}}>\r\n        <div className=\"row mx-auto my-5\">\r\n          <div className=\"col-12 mt-4 \">\r\n            <input\r\n              style={{width: \"100%\"}}\r\n              type=\"text\"\r\n              placeholder=\"Title...\"\r\n              value={titulo}\r\n              maxlength=\"40\"\r\n              onChange={handleChangeTitle}\r\n            />\r\n            <span style={{float:\"right\"}}>{titulo.length}/40</span>\r\n          </div>\r\n          <div className=\"col-12 mt-4\">\r\n            <textarea\r\n              style={{width: \"100%\"}}\r\n              type=\"text\"\r\n              value={comentario}\r\n              maxlength=\"120\"\r\n              placeholder=\"Comment...\"\r\n              onChange={handleChange}\r\n            />\r\n            <span style={{float:\"right\"}}>{comentario.length}/120</span>\r\n          </div>\r\n            <div className=\"col-12 d-flex justify-content-center my-3\">\r\n              <button type=\"submit\" disabled={titulo.length == 0 && \"true\"} className=\"btn p-2\" style={{backgroundColor:\"yellow\",width:\"70%\"}}>Enviar</button>\r\n            </div>\r\n        </div>\r\n      </form>\r\n      <div className=\"d-flex justify-content-center\">\r\n      <button onClick={()=>locally.push(\"/\")} className=\"btn\" style={{border:\"2px solid white\", color: \"white\", borderRadius:\"6px\"}}>\r\n                Back\r\n            </button>\r\n            </div>\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\components\\login.js",[],"C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\firebase\\index.js",[],"C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\components\\showComments.js",["50"],"import React, { useEffect, useState } from 'react'\r\nimport {getFirestore} from '../firebase'\r\n\r\nexport default function ShowComments(){\r\n    const [comentarios, setComments] = useState([])\r\n    useEffect(()=>{\r\n        const db = getFirestore()\r\n        const collection = db.collection(\"comentarios\")\r\n        collection.get()\r\n        .then((querySnapshot) => {\r\n            console.log(querySnapshot.docs[0].data())\r\n            if (querySnapshot.size === 0) {\r\n              console.log(\"No hay resultados\");\r\n            }\r\n            // querySnapshot.docs.map(doc => {\r\n            //     setComments(\r\n            //         [...comentarios,\r\n            //         {\r\n            //             id: doc.id,\r\n                        \r\n            //         }\r\n            //     ])\r\n            // })\r\n            setComments(querySnapshot.docs.map((doc) => ({ id: doc.id, ...doc.data()})))\r\n          });\r\n    },[])\r\n\r\n    function handlerLike(comment){\r\n        console.log(\"ASd\")\r\n        const db = getFirestore()\r\n        const collection = db.collection(\"comentarios\").doc(comment.id)\r\n        .update({...comment, like: comment.like + 1})\r\n        .then(r => console.log(\"Like!!!\"))\r\n        .catch(er => console.log(\"Error like\"))\r\n    }\r\n\r\n    return(\r\n        <div className=\"container my-3\">\r\n            <h2 style={{color:\"yellow\"}}>Comments</h2>\r\n            {comentarios.map((comment)=>(\r\n                <div key={comment.id} className=\"my-3 mx-2 row\" style={{backgroundColor:\"white\", borderRadius:\"8px\", padding:\"10px 0\"}}>\r\n                    <div className=\"col-4\">\r\n                        <img style={{borderRadius:\"100%\"}} src={comment.usuario.foto} alt={comment.usuario.nombre}/>\r\n                    </div>\r\n                    <div className=\"col-8\">\r\n                        <h4>{comment.usuario.nombre}</h4>\r\n                        <p>{comment.usuario.email}</p>\r\n                        <p style={{textAlign:\"end\"}}>{comment.fecha}</p>\r\n                    </div>\r\n                    <div className=\"col-12 pt-3\">\r\n                        <h5>{comment.titulo}</h5>\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <p>{comment.comentario}</p>\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <button onClick={() => handlerLike(comment)} className=\"btn\" style={{float:\"right\"}}>\r\n                            <ion-icon style={{color:\"red\"}} name=\"heart\"></ion-icon> {comment.like}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}","C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\components\\home.js",[],"C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\components\\logout.js",[],"C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\components\\header.js",[],"C:\\Users\\Rodri\\Desktop\\comments\\comments\\src\\components\\footer.js",[],{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","severity":1,"message":"56","line":9,"column":3,"nodeType":"57","messageId":"58","endLine":9,"endColumn":7},{"ruleId":"59","severity":1,"message":"60","line":83,"column":61,"nodeType":"61","messageId":"62","endLine":83,"endColumn":63},{"ruleId":"55","severity":1,"message":"63","line":31,"column":15,"nodeType":"57","messageId":"58","endLine":31,"endColumn":25},"no-native-reassign",["64"],"no-negated-in-lhs",["65"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'collection' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]